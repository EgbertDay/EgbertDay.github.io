<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>接口 | 代海峰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言&amp;emsp;&amp;emsp;接口和内部类为我们提供了一种将接口与实现分离的更加结构化的方法   抽象类和抽象方法&amp;emsp;&amp;emsp;我们创建这样一个类，这个类只提供通用的接口，我们希望通过这个通用接口可以操作一系列类，创建提供通用接口的对象有时是没有意义的，而且我们还希望禁止创建这样的一个类的对象，我们可以在这个抽象的类上写一些“哑”方法，当调用这个“抽象类”对象的“哑”方法时，能抛出错误，但">
<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="接口">
<meta property="og:url" content="http://yoursite.com/2018/10/09/接口/index.html">
<meta property="og:site_name" content="代海峰">
<meta property="og:description" content="前言&amp;emsp;&amp;emsp;接口和内部类为我们提供了一种将接口与实现分离的更加结构化的方法   抽象类和抽象方法&amp;emsp;&amp;emsp;我们创建这样一个类，这个类只提供通用的接口，我们希望通过这个通用接口可以操作一系列类，创建提供通用接口的对象有时是没有意义的，而且我们还希望禁止创建这样的一个类的对象，我们可以在这个抽象的类上写一些“哑”方法，当调用这个“抽象类”对象的“哑”方法时，能抛出错误，但">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-10-10T08:57:02.180Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="接口">
<meta name="twitter:description" content="前言&amp;emsp;&amp;emsp;接口和内部类为我们提供了一种将接口与实现分离的更加结构化的方法   抽象类和抽象方法&amp;emsp;&amp;emsp;我们创建这样一个类，这个类只提供通用的接口，我们希望通过这个通用接口可以操作一系列类，创建提供通用接口的对象有时是没有意义的，而且我们还希望禁止创建这样的一个类的对象，我们可以在这个抽象的类上写一些“哑”方法，当调用这个“抽象类”对象的“哑”方法时，能抛出错误，但">
  
    <link rel="alternate" href="/atom.xml" title="代海峰" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">代海峰</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">个人博客</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-接口" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/09/接口/" class="article-date">
  <time datetime="2018-10-09T11:27:30.000Z" itemprop="datePublished">2018-10-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/学习心得/">学习心得</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      接口
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&emsp;&emsp;接口和内部类为我们提供了一种将接口与实现分离的更加结构化的方法  </p>
<h2 id="抽象类和抽象方法"><a href="#抽象类和抽象方法" class="headerlink" title="抽象类和抽象方法"></a>抽象类和抽象方法</h2><p>&emsp;&emsp;我们创建这样一个类，这个类只提供通用的接口，我们希望通过这个通用接口可以操作一系列类，创建提供通用接口的对象有时是没有意义的，而且我们还希望禁止创建这样的一个类的对象，我们可以在这个抽象的类上写一些“哑”方法，当调用这个“抽象类”对象的“哑”方法时，能抛出错误，但是这样方式，只有在运行时才能被检测到<br>&emsp;&emsp;java提供了一个叫做抽象方法的机制，这种方法是不完整的，仅声明而没有方法体<br>&emsp;&emsp;包含抽象方法的类称为抽象类，如果一个类包含一个或者多个抽象方法，该类必须被限定为抽象的（否则，编译器会报错）<br>&emsp;&emsp;如果从一个抽象类继承，并想创建该新类的对象，那么就必须为基类的所有抽象方法定义，如果不这样做，那么导出类也必须是抽象的，而且编译器会强制我们使用abstract关键字来限定这个类<br>&emsp;&emsp;我们也可能会创建没有任何抽象方法的抽象类，考虑这种情况，这个类包含任何abstract方法都是没有意义的，而且我们也想阻止产生这个类的对象，那么这时这样做就是有意义的<br>&emsp;&emsp;创建抽象类和抽象方法时很有用的，因为它们可以使类的抽象性明确起来，并告诉用户和编译器打算怎样使用它们，抽闲类还是很有用的重构工具，因为它们使得我们可以很容易地将公共方法沿着继承层次结构向上移动</p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>&emsp;&emsp;interface这个关键字产生一个完全抽象的类，它根本就没有提供任何具体实现，它允许创建者确定方法名，参数列表和返回类型，但是没有任何方法体<br>一个接口表示：“<strong>所有实现了该接口的类看起来都像是这样的</strong>”因此，任何使用某特定接口的代码都知道可以调用该接口的哪些方法，因此接口被用来建立类与类之间的协议<br>&emsp;&emsp;但是，interface是个极度抽象的类，因为它允许人们通过创建一个能够被向上转型为多积累的类型，来实现某种类似多重继变种的特性<br>&emsp;&emsp;接口的创建很简单，使用interface关键字替代class关键字，也可以在interface前面加上public（但仅限于该接口在与其同名的文件中被定义）如果不加public ，它只具有包权限，这样它只能在同一个包中可用，接口也可以包含域，但是这些域都是static和final的<br>&emsp;&emsp;可以在接口中显式地将方法声明为public，但即使你不这么做，它们也是public的，因此，当要实现一个接口时，在接口被定义的方法必须被定义为public，否则，它们只能得到包访问权限，这样在方法被继承的过程中，其可访问权限就被降低了，这是java编译器不允许的，所有接口中的方法必须是public的，即使不声明这些方法也会自动是public的</p>
<h2 id="完全解耦"><a href="#完全解耦" class="headerlink" title="完全解耦"></a>完全解耦</h2><p>&emsp;&emsp;只有一个方法操作的是类而非接口，那么你就只能使用这个类及子类，如果你想要将这个方法应用于不在此继承结构的某个类，那么就会很麻烦了，接口可以在很大程度上放宽这些限制，因此，它使得我们可以编写可复用更好的代码  </p>
<h2 id="java的多重继承"><a href="#java的多重继承" class="headerlink" title="java的多重继承"></a>java的多重继承</h2><p>&emsp;&emsp;接口不仅仅只是一种更纯粹形式的抽象类，它的目标比这更高。因为接口是根本没有任何具体实现的，也就是说，没有任何与接口相关的存储，因此也就无法阻止多个接口的组合，这一点很有价值，因为你需要表示“一个x是一个a和一个b以及一个c”，在C++中，组合多个类的接口的行为被称为<strong>多重继承</strong>它可能使你背负很沉重的负担，因为每个类都有一个具体实现<br>&emsp;&emsp;使用接口的核心原因：为了能够向上转型为多个基类型（以及由此带来的灵活性），然而，使用接口的第二个原因却是与抽象基类相同：防止客户端程序员创建该类的对象，并确保这仅仅是建立一个接口，这就带来了一个问题，我们应该使用接口还是抽象类？如果创建不带任何方法和成员变量的基类，那么你就选择接口而不是抽象类，事实上，如果知道某个事物应该成为一个基类，那么第一选择应该是使它成为一个接口</p>
<h2 id="通过继承来扩展接口"><a href="#通过继承来扩展接口" class="headerlink" title="通过继承来扩展接口"></a>通过继承来扩展接口</h2><p>接口与接口之间的继承很容易地创建一个新的接口，这个新的接口是这两个接口的并集</p>
<h3 id="组合接口时的命名冲突"><a href="#组合接口时的命名冲突" class="headerlink" title="组合接口时的命名冲突"></a>组合接口时的命名冲突</h3><p>&emsp;&emsp;组合接口拥有被组合接口的所有方法，所以判断组合接口时接口方法命名是否冲突的一个基本准则是，在新的接口中，被组合的接口能否共存  如下例：  </p>
<pre><code class="java"><span class="class"><span class="keyword">interface</span> <span class="title">I1</span> </span>{
    <span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">()</span></span>;
}
<span class="class"><span class="keyword">interface</span> <span class="title">I2</span></span>{
    <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;
}
<span class="class"><span class="keyword">interface</span> <span class="title">I3</span></span>{
    <span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> a )</span></span>;
}

<span class="comment">//interface I4 extends I1,I2{ }即使方法返回值不同，I1和I2包含的接口命名冲突，不能共存</span>
<span class="class"><span class="keyword">interface</span> <span class="title">I5</span> <span class="keyword">extends</span> <span class="title">I1</span>,<span class="title">I3</span></span>{ }

</code></pre>
<h2 id="适配接口"><a href="#适配接口" class="headerlink" title="适配接口"></a>适配接口</h2><p>&emsp;&emsp;接口最吸引人的原因之一就是允许同一个接口具有多个不同的具体实现，在简单的情况中，它的体现形式通常是一个接收接口类型的方法，而接口的实现和向该方法传递的对象则取决于方法的使用者<br>&emsp;&emsp;因此，<strong>接口的一种常见用法就是前面提到的策略设计模式</strong>，此时你编写一个执行某些操作的方法，而该方法将接受一个同样是你指定的接口，你主要就是声明：“你可以用任何你想要的对象来调用我的方法。只要你的对象遵守我的接口”</p>
<h2 id="接口中的域"><a href="#接口中的域" class="headerlink" title="接口中的域"></a>接口中的域</h2><p>&emsp;&emsp;因为你放入接口中的任何域都自动是static和final的，所以接口就成为了一种很便捷的用来创建常量组的工具，不过SE5之后，有了enum关键字之后，使用接口群组常量已经没什么意义了</p>
<h2 id="嵌套接口"><a href="#嵌套接口" class="headerlink" title="嵌套接口"></a>嵌套接口</h2><p>&emsp;&emsp;接口可以嵌套在类或者其他接口中，这揭示了许多非常有趣的特性  </p>
<figure class="highlight java"><figcaption><span>嵌套接口</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.egbertday;</span><br><span class="line"><span class="comment">//在类中嵌套</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">B</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BImpl1</span> <span class="keyword">implements</span> <span class="title">B</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BImpl2</span> <span class="keyword">implements</span> <span class="title">B</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">C</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">CImple1</span> <span class="keyword">implements</span> <span class="title">C</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span>  <span class="class"><span class="keyword">class</span> <span class="title">CImple12</span> <span class="keyword">implements</span> <span class="title">C</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">interface</span> <span class="title">D</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">DImple1</span> <span class="keyword">implements</span>  <span class="title">D</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DImple2</span> <span class="keyword">implements</span>  <span class="title">D</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> D dRef;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> D <span class="title">getD</span><span class="params">()</span></span>&#123;<span class="keyword">return</span>  <span class="keyword">new</span> DImple1();&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveD</span><span class="params">(D d)</span></span>&#123;</span><br><span class="line">        dRef=d;</span><br><span class="line">        d.f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//在接口中嵌套</span></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">E</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">G</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//redundant public 多余的public</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">H</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NestingInterface</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bimp</span> <span class="keyword">implements</span> <span class="title">A</span>.<span class="title">B</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">CImpl</span> <span class="keyword">implements</span> <span class="title">A</span>.<span class="title">C</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    class DImpl implements  A.D&#123;</span></span><br><span class="line"><span class="comment">//        public void f()&#123;&#125;;</span></span><br><span class="line"><span class="comment">//    &#125;不能实现一个私有的接口</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">EImpl</span> <span class="keyword">implements</span>  <span class="title">E</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">g</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">EGImpl</span> <span class="keyword">implements</span> <span class="title">E</span>.<span class="title">G</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">	        A a = <span class="keyword">new</span> A();</span><br><span class="line">	        <span class="comment">//Can't access A.D 不能访问A.D,因为A.D是私有的</span></span><br><span class="line">	        <span class="comment">//A.D ad=a.getD();</span></span><br><span class="line">	        <span class="comment">//除了A.D 也不能返回任何类型的引用 Doesn't return nothing but A.D</span></span><br><span class="line">	        <span class="comment">//A.DImple2 dImple2=a.getD();</span></span><br><span class="line">	        <span class="comment">//也不能访问这个接口的成员 connot access a member of the interface</span></span><br><span class="line">	        <span class="comment">//a.getD().f();</span></span><br><span class="line">	        <span class="comment">//可以让另一个A对getD()返回的对象进行操作。Only another A can do anything with getD()</span></span><br><span class="line">	        A a2 = <span class="keyword">new</span> A();</span><br><span class="line">	        a2.receiveD(a.getD()); </span><br><span class="line">	    &#125;</span><br><span class="line">    </span><br><span class="line">      &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;在类中嵌套接口是相当常见的语法，就像非嵌套接口一样，可以拥有publi和包访问权限，两种可视性，<br>&emsp;&emsp;作为一种新添加的方式，接口也可以被实现为private的，就像<code>A.D</code>中看到的那样（相同的方法，既可以适用于嵌套接口，也可以使用于嵌套类），那么private的嵌套接口能够带来什么好处呢？实现一个private接口只是一种方式，它可以强制接口中定义的定义的方法不要添加任何类型信息（也就是说，不能进行向上转型）<br>&emsp;&emsp;getD()方法陷入了一个两难的境地，这个问题与private接口有关，它是一个返回对private接口引用的public方法，你对这个方法返回值能做什么呢？在main方法时，我们尝试了很多行为都失败了，只有一种方式能够成功，那就是将返回值交给有权使用它的对象，在这个例子中，是另一个A通过<code>receiveD()</code>方法实现的<br>&emsp;&emsp;接口E说明接口彼此之间也是可以嵌套的，与在类嵌套接口不同，被嵌套在接口中的所有接口元素都是public的，，即使不声明，也会自动为public<br>&emsp;&emsp;注意的是，当实现某个接口的时候，并不需要实现嵌套在内部的任何接口，而且private接口也不能在定义它的类之外被实现</p>
<h2 id="接口和工厂"><a href="#接口和工厂" class="headerlink" title="接口和工厂"></a>接口和工厂</h2><p>&emsp;&emsp;接口是实现多重继承的途径，而生成遵循某个接口的对象的典型方式就是工厂方法设计模式，<strong>这与直接使用构造器不同，我们在工厂对象上调用的是创建方法</strong>，而该工厂对象将生成接口的某个实现的对象，通过这种方式，我们的代码将完全与接口的实现分离，这就使得我们可以透明地将某个实现替换成另一个实现<br><figure class="highlight java"><figcaption><span>工厂方法</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.egbertday;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Service</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ServiceFactory</span></span>&#123;</span><br><span class="line">    <span class="function">Service <span class="title">getService</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServiceImp1</span> <span class="keyword">implements</span>  <span class="title">Service</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServcieImp1Factory</span> <span class="keyword">implements</span> <span class="title">ServiceFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  Service <span class="title">getService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServiceImp1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServiceImp2</span> <span class="keyword">implements</span>  <span class="title">Service</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServcieImp2Factory</span> <span class="keyword">implements</span> <span class="title">ServiceFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  Service <span class="title">getService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServiceImp2();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factories</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">serviceConsumer</span><span class="params">(ServiceFactory serviceFactory)</span></span>&#123;</span><br><span class="line">        Service service=serviceFactory.getService();</span><br><span class="line">        service.m1();</span><br><span class="line">        service.m2();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        serviceConsumer(<span class="keyword">new</span> ServcieImp1Factory());</span><br><span class="line">        serviceConsumer(<span class="keyword">new</span> ServcieImp2Factory());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>如果不是工厂方法，你的代码就必须要在某处指定将要创建的Service的确切类型，以便调用合适的构造器<br>&emsp;&emsp;为什么我们要增加这种额外级别的间接性呢？一个常见的原因是想要创建框架  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/09/接口/" data-id="cjnj9osd40023uwrzxhmz4bz0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/10/10/内部类/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          内部类
        
      </div>
    </a>
  
  
    <a href="/2018/10/09/多态/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">多态</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/学习心得/">学习心得</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-MVC/">Spring MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-boot/">Spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-cloud/">Spring cloud</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/Spring-boot/" style="font-size: 10px;">Spring boot</a> <a href="/tags/Spring-cloud/" style="font-size: 10px;">Spring cloud</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/10/19/注解/">注解</a>
          </li>
        
          <li>
            <a href="/2018/10/19/枚举类型/">枚举类型</a>
          </li>
        
          <li>
            <a href="/2018/10/19/Java-I-O系统/">Java I/O系统</a>
          </li>
        
          <li>
            <a href="/2018/10/19/容器深入研究/">容器深入研究</a>
          </li>
        
          <li>
            <a href="/2018/10/19/数组/">数组</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 EgbertDay<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>